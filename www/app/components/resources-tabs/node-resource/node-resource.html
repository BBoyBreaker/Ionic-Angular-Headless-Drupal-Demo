<ion-view title="Node Resource"> 

<ion-content>

<h1>NodeResource</h1>

<h2>Retrieve</h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeRetrieveRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      Retrieve Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>

<label class="item item-input">
<input type="text" ng-model="nodeRetrieve.nid" placeholder="nid" >
</label>
<button class="button button-small" ng-click="callNodeRecourceRetrieve(nodeRetrieve.nid)">call NodeRecource.retrieve</button>
<hr />

<h2>Create</h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeCreateRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      Create Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>
<ion-select label="Node Types" label-field="name"  name="'nodeTypes'" provider="nodeTypes" ng-model="nodeCreate.type"/></ion-select>
<label class="item item-input">
<input type="text" ng-init="nodeCreate.title='test titel'" ng-model="nodeCreate.title" placeholder="Node title" >
</label>

<label class="item item-input">
<textarea rows="6" placeholder="Node sumary" type="text" ng-init="nodeCreate.body.und[0].summary = 'This is a short summary of the node body.'" ng-model="nodeCreate.body.und[0].summary"></textarea>
</label>
<label class="item item-input">
<textarea rows="6" placeholder="Node body" type="text" ng-init="nodeCreate.body.und[0].value = 'This is the full node body.'" ng-model="nodeCreate.body.und[0].value"></textarea>
</label>
<button class="button button-small" ng-click="callNodeRecourceCreate(nodeCreate)">call NodeRecource.create</button>
<hr />
<h2>Update</h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeUpdateRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      Update Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>
<label class="item item-input">
<input type="text" ng-init="nodeUpdate.nid='1234'" ng-model="nodeUpdate.nid" placeholder="Nid" >
</label>
<label class="item item-input">
<input type="text" ng-init="nodeUpdate.title='test titel'" ng-model="nodeUpdate.title" placeholder="Node title" >
</label>

<label class="item item-input">
<textarea rows="6" placeholder="Node sumary" type="text" ng-init="nodeUpdate.body.und[0].summary = 'This is a short summary of the node body.'" ng-model="nodeUpdate.body.und[0].summary"></textarea>
</label>

<label class="item item-input">
<textarea rows="6" placeholder="Node body" type="text" ng-init="nodeUpdate.body.und[0].value = 'This is the full node body.'" ng-model="nodeUpdate.body.und[0].value"></textarea>
</label>

<button class="button button-small" ng-click="callNodeRecourceUpdate(nodeUpdate)">call NodeRecource.update</button>

<hr />

<h2>Delete</h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeDeleteRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      Delete Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>

<label class="item item-input">
<input type="text" ng-init="nodeDelete.nid='3'" ng-model="nodeDelete.nid" placeholder="nid" >
</label>
<button class="button button-small" ng-click="callNodeRecourceDelete(nodeDelete.nid)">call NodeRecource.delete</button>

<hr />


<h2>Index</h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeIndexRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      Index Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>

<label class="item item-input">
<input type="text" ng-init="nodeIndex.page=0" ng-model="nodeIndex.page" placeholder="page" >
</label>
<label class="item item-input">
<input type="text" ng-init="nodeIndex.pagesize=5" ng-model="nodeIndex.pagesize" placeholder="pagesize" >
</label>

<p><b>Fields:</b><br>
Fields of node that are returned
</p>
<ion-checkbox ng-model="nodeIndex.fields.nid">fields.nid</ion-checkbox>
<ion-checkbox ng-model="nodeIndex.fields.created">fields.created</ion-checkbox>
<ion-checkbox ng-model="nodeIndex.fields.type">fields.type</ion-checkbox>
<ion-checkbox ng-model="nodeIndex.fields.title">fields.title</ion-checkbox>
<p><b>Parameters:</b><br>
Parameters of node that are returned
</p>
<label class="item item-input">
	<input type="text" ng-model="nodeIndex.parameters.nid" placeholder="nid" >
</label>
<label class="item item-input">
	<input type="text" ng-model="nodeIndex.parameters.created" placeholder="created" >
</label>
<label class="item item-input">
	<input type="text" ng-model="nodeIndex.parameters.type" placeholder="type" >
</label>
<label class="item item-input">
	<input type="text" ng-model="nodeIndex.parameters.title" placeholder="title" >
</label>   
<button class="button button-small" ng-click="callNodeRecourceIndex(nodeIndex)">call NodeRecource.index</button>
<hr />

<h2>Files</h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeFilesRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      Files Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>

<label class="item item-input">
<input type="text" ng-model="nodeFiles.nid" placeholder="nid" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeFiles.file_contents" placeholder="file_contents" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeFiles.image_styles" placeholder="image_styles" >
</label>
<button class="button button-small" ng-click="callNodeResourceFiles(nodeFiles)">call NodeRecource.files</button>

<hr />

<h2>Comments</h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeCommentsRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      Comments Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>

<label class="item item-input">
<input type="text" ng-model="nodeComments.nid" placeholder="nid" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeComments.count" placeholder="count" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeComments.offset" placeholder="offset" >
</label>
<button class="button button-small" ng-click="callNodeResourceComments(nodeComments)">call NodeRecource.comments</button>

<hr />

<h2>AttachFile <span class="assertive">!</span></h2>
<ion-list>
  <div ng-repeat="(key,request) in nodeAttachFileRequests">
    <ion-item class="item-stable"
              ng-click="toggleRequest(key)"
              ng-class="{active: isRequestShown(key)}">
        <i class="icon" ng-class="isRequestShown(key) ? 'ion-minus' : 'ion-plus'"></i>
      &nbsp;
      AttachFile Request {{key}} at {{request.requestStart | date}}
    </ion-item>
    <ion-item class="item-accordion"
              ng-repeat="(name, value) in request"
              ng-show="isRequestShown(key)">
      <h2>{{name}}</h2>
	  <p ng-show="name != 'data'">{{value}}</p>
	  <pre ng-show="name == 'data'">
	  {{ request.data | json}}
	  </pre>
    </ion-item>
  </div>
</ion-list>

<label class="item item-input">
<input type="text" ng-model="nodeAttachFile.nid" placeholder="nid" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeAttachFile.field_name" placeholder="field_name" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeAttachFile.attach" placeholder="attach" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeAttachFile.field_values.title" placeholder="field_values.title" >
</label>
<label class="item item-input">
<input type="text" ng-model="nodeAttachFile.field_values.alt" placeholder="field_values.alt" >
</label>

<div ng-show="!isWebview">
Test for upload from browser:<br/>
 <!-- 3. nv-file-over uploader="link" over-class="className" -->
<div ng-show="uploader.isHTML5">
<div class="over-zone zone" nv-file-over="" uploader="uploader" style="float: left;">
Base drop zone indication
</div>
<!-- Example: ng-file-drop | ng-file-drop="options" -->
<div nv-file-drop="" nv-file-over="" uploader="uploader" options="{url: '/foo'}" over-class="other-over-zone" class="other-drop-zone zone" style="float: right;">
One more drop zone with its own settings (and indication)
</div>
<div style="clear: both;"></div>
</div>
<br />
<!-- Example: nv-file-select="" uploader="{Object}" options="{Object}" filters="{String}" -->
<input type="file" nv-file-select="" uploader="uploader" multiple />
<h2>The queue. Length: {{ uploader.queue.length }}</h2>
<ul>
<li ng-repeat="item in uploader.queue">
<div>Name: {{ item.file.name }}</div>
<div>Size: {{ item.file.size/1024/1024|number:2 }} Mb</div>
<div ng-show="uploader.isHTML5">
Progress: {{ item.progress }}
<div class="item-progress-box">
<div class="item-progress" ng-style="{ 'width': item.progress + '%' }"></div>
</div>
</div>
<div ng-if="controller.isImage(item._file)">
Thumbnail (only images):
<!-- Image preview -->
<!--auto height-->
<!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
<!--auto width-->
<div ng-thumb="{ file: item._file, height: 100 }"></div>
<!--fixed width and height -->
<!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
</div>
<div>
<button ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">Upload</button>
<button ng-click="item.cancel()" ng-disabled="!item.isUploading">Cancel</button>
<button ng-click="item.remove()">Remove</button>
</div>
</li>
</ul>
<div>
<div>
Total progress: {{ uploader.progress }}
<div class="total-progress-box">
<div class="total-progress" ng-style="{ 'width': uploader.progress + '%' }"></div>
</div>
</div>
<button ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">Upload all</button>
<button ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">Cancel all</button>
<button ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">Remove all</button>
</div>

 <img width="16" height="16" ng-src="{{nodeAttachFile.attach}}">
 
<input name="myFile" type="file" />
</div>
<div ng-show="isWebview">
Test for upload from phone:<br/>
 <img width="16" height="16" ng-src="{{nodeAttachFile.attach}}">
<button class="button button-block button-positive icon-left ion-ios7-camera" ng-click="takePicture()">Camera</button>
</div>

<button class="button button-small" ng-click="callNodeResourceAttachFile(nodeAttachFile)">call NodeRecource.attach_file</button>

<hr />


</ion-content> </ion-view>